{"ast":null,"code":"import _classCallCheck from\"/Users/benediktkeil/Softwareeng/Test080120/BK_ProjektSoftwareEng/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/benediktkeil/Softwareeng/Test080120/BK_ProjektSoftwareEng/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/benediktkeil/Softwareeng/Test080120/BK_ProjektSoftwareEng/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/benediktkeil/Softwareeng/Test080120/BK_ProjektSoftwareEng/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/benediktkeil/Softwareeng/Test080120/BK_ProjektSoftwareEng/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Redirect,Route}from'react-router-dom';import{IonApp,IonIcon,IonLabel,IonRouterOutlet,IonTabBar,IonTabButton,IonTabs}from'@ionic/react';import{IonReactRouter}from'@ionic/react-router';import{addCircleOutline,calendar,addCircle}from'ionicons/icons';import NewMonth from'./pages/NewMonth';import MonthReview from'./pages/MonthReview';import NewInput from'./pages/NewInput';import ActualMonth from'./pages/ActualMonth';import Start from'./pages/Start';import StartError from'./errors/starterror';/* Core CSS required for Ionic components to work properly */import'@ionic/react/css/core.css';/* Basic CSS for apps built with Ionic */import'@ionic/react/css/normalize.css';import'@ionic/react/css/structure.css';import'@ionic/react/css/typography.css';/* Optional CSS utils that can be commented out */import'@ionic/react/css/padding.css';import'@ionic/react/css/float-elements.css';import'@ionic/react/css/text-alignment.css';import'@ionic/react/css/text-transformation.css';import'@ionic/react/css/flex-utils.css';import'@ionic/react/css/display.css';/* Theme variables */import'./theme/variables.css';import{DBConfig}from'./db/DBConfig';import{initDB,useIndexedDB}from'react-indexed-db';initDB(DBConfig);/**\n * \n * Documentation Projekt Softwareengineering\n * Es wurde ein Ausgabenrechner implementiert, \n * der eine Übersicht über das aktuelle Budget und alle Ausgaben/Einnahmen eines Monats gibt\n * @author: Benedikt Keil\n * @version: V2.1\n * \n */var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={actualBudget:0,startbudget:0,month:\"test\",monthObj:[{\"month\":\"Test\",\"startbudget\":0}],monthlistDB:[],allMonthObj:[{\"month\":\"no Month\",\"startbudget\":0,\"id\":1}],actualMonthObj:{month:\"no Month\",startbudget:0,actualbudget:0,id:0},inputs:[],inputsSetNew:[],monthID:1,firstLoad:true,normalMode:false,starterror:false,summeInputs:0};_this.getMonth=function(event){var month=event.detail.value;var monthsubstr=month.substr(0,7);_this.setState({month:monthsubstr});console.log(_this.state.month);_this.verifiyMonth();};_this.getStartbudget=function(event){_this.setState({startbudget:parseInt(event.detail.value)});console.log(_this.state.startbudget);};_this.pushMonthObj=function(){_this.state.monthObj.push({\"month\":_this.state.month,\"startbudget\":_this.state.startbudget});_this.forceUpdate();var _useIndexedDB=useIndexedDB('monthlist'),add=_useIndexedDB.add,getAll=_useIndexedDB.getAll;add({month:_this.state.month,startbudget:_this.state.startbudget,actualbudget:_this.state.startbudget});getAll().then(function(monthlistDB){_this.setState({monthlistDB:monthlistDB});});_this.getActualMonth();};_this.getMonthObj=function(){var _useIndexedDB2=useIndexedDB('monthlist'),getAll=_useIndexedDB2.getAll;getAll().then(function(monthlistDB){_this.setState({monthlistDB:monthlistDB});});};_this.firstLoadApp=function(){var _useIndexedDB3=useIndexedDB('monthlist'),getAll=_useIndexedDB3.getAll;getAll().then(function(month){if(month.length===0){_this.setState({firstLoad:true});}else{_this.setState({firstLoad:false,normalMode:true});_this.getActualMonth();}});console.log(_this.state.month+_this.state.startbudget);};_this.startRechner=function(){var _useIndexedDB4=useIndexedDB('monthlist'),add=_useIndexedDB4.add,getAll=_useIndexedDB4.getAll;if(_this.state.month!==\"test\"&&_this.state.startbudget!==0){add({month:_this.state.month,startbudget:_this.state.startbudget,actualbudget:_this.state.startbudget});getAll().then(function(month){if(month.length===0){add({month:_this.state.month,startbudget:_this.state.startbudget,actualbudget:_this.state.startbudget});}getAll().then(function(month){_this.setState({allMonthObj:month,firstLoad:false,normalMode:true});_this.getActualMonth();});});}else{_this.setState({starterror:true});}};_this.getActualMonth=function(){var _useIndexedDB5=useIndexedDB('monthlist'),getAll=_useIndexedDB5.getAll,getByID=_useIndexedDB5.getByID;getAll().then(function(month){_this.setState({allMonthObj:month});}).then(function(){getByID(Math.max.apply(Math,_this.state.allMonthObj.map(function(o){_this.setState({monthID:o.id});return o.id;}))).then(function(actualMonth){console.log(actualMonth);_this.setState({actualMonthObj:actualMonth});_this.setState({month:_this.state.actualMonthObj.month,startbudget:_this.state.actualMonthObj.startbudget,actualBudget:_this.state.actualMonthObj.actualbudget});_this.forceUpdate();console.log(_this.state.actualBudget);_this.getActualBudget2();});});};_this.getActualBudget=function(){var _useIndexedDB6=useIndexedDB('inputs'),getAll=_useIndexedDB6.getAll,update=_useIndexedDB6.update;getAll().then(function(inputs){_this.setState({inputs:inputs});}).then(function(){if(_this.state.inputs.length!==0){_this.state.inputs.map(function(index){if(index.month===_this.state.month&&index.added===true){var actualBudget=index.actualbudget;_this.setState({actualBudget:actualBudget});}if(index.month===_this.state.month&&index.added===false){if(_this.state.actualBudget===_this.state.startbudget){console.log(\"start === actual\");var startBudget=_this.state.startbudget;if(index.ausgabe){startBudget+=index.betrag;_this.setState({actualBudget:startBudget});update({inputs_id:index.inputs_id,betrag:index.betrag,ausgabe:index.ausgabe,titel:index.titel,datum:index.datum,month:index.month,added:true,actualbudget:startBudget});}else{startBudget-=index.betrag;_this.setState({actualBudget:startBudget});console.log(\"- rechnen\");console.log(_this.state.actualBudget);update({inputs_id:index.inputs_id,betrag:index.betrag,ausgabe:index.ausgabe,titel:index.titel,datum:index.datum,month:index.month,added:true,actualbudget:startBudget});}}else{console.log(\"else\");var _actualBudget=index.actualbudget;_this.setState({actualBudget:_actualBudget});if(index.ausgabe){_actualBudget+=index.betrag;_this.setState({actualBudget:_actualBudget});update({inputs_id:index.inputs_id,betrag:index.betrag,ausgabe:index.ausgabe,titel:index.titel,datum:index.datum,month:index.month,added:true,actualbudget:_actualBudget});}else{_actualBudget-=index.betrag;_this.setState({actualBudget:_actualBudget});update({inputs_id:index.inputs_id,betrag:index.betrag,ausgabe:index.ausgabe,titel:index.titel,datum:index.datum,month:index.month,added:true,actualbudget:_actualBudget});}}}return{};});}});};_this.getActualBudget2=function(){var _useIndexedDB7=useIndexedDB('inputs'),getAll=_useIndexedDB7.getAll,update=_useIndexedDB7.update;getAll().then(function(inputs){_this.setState({inputs:inputs,summeInputs:0});}).then(function(){if(_this.state.inputs.length!==0){_this.state.inputs.map(function(index){if(index.month===_this.state.month){var summeInputs=_this.state.summeInputs;if(index.ausgabe){summeInputs-=index.betrag;_this.setState({summeInputs:summeInputs});}else{summeInputs+=index.betrag;_this.setState({summeInputs:summeInputs});}}});}}).then(function(){var actualBudget=_this.state.startbudget-_this.state.summeInputs;_this.setState({actualBudget:actualBudget});});};_this.setAddedNew=function(){var _useIndexedDB8=useIndexedDB('inputs'),getAll=_useIndexedDB8.getAll,update=_useIndexedDB8.update;getAll().then(function(inputs){_this.setState({inputsSetNew:inputs});}).then(function(){if(_this.state.inputsSetNew.length!==0){console.log(\"actualReset: \"+_this.state.actualBudget);_this.state.inputs.map(function(index){if(index.month===_this.state.month&&index.added===true){update({inputs_id:index.inputs_id,betrag:index.betrag,ausgabe:index.ausgabe,titel:index.titel,datum:index.datum,month:index.month,added:false,actualbudget:index.actualbudget});}});}}).then(function(){_this.setState({actualBudget:_this.state.startbudget});_this.getActualBudget2();});};_this.verifiyMonth=function(){var _useIndexedDB9=useIndexedDB('monthlist'),getAll=_useIndexedDB9.getAll;getAll().then(function(month){month.map(function(index){console.log(\"Test Month Verify: \"+_this.state.month);if(index.month===_this.state.month){_this.setState({starterror:true,month:\"test\",normalMode:false});console.log(_this.state.starterror);}});});};return _this;}_createClass(App,[{key:\"render\",/**\n   * Diese Methode rendert die TabBar die immer am unteren Bildschirmende gezeigt wird. \n   * Außerdem wird ein Router erstellt der die Navigation zwischen den einzelnen Seiten bereit stellt.\n   * Hier werden auch die Methoden der App Klasse an die anderen Komponenten übergeben, \n   * die dann in den einzelne Komponenten als Props zur Verfügung stehen.\n   */value:function render(){var _this2=this;return React.createElement(IonApp,{onLoad:function onLoad(){_this2.firstLoadApp();_this2.getMonthObj();}},this.state.firstLoad&&React.createElement(Start,{startRechner:this.startRechner,getMonth:this.getMonth,getStartbudget:this.getStartbudget,month:this.state.month,startbudget:this.state.startbudget}),this.state.starterror&&React.createElement(StartError,null),React.createElement(IonReactRouter,null,this.state.normalMode&&React.createElement(IonTabs,null,React.createElement(IonRouterOutlet,null,React.createElement(Route,{path:\"/newMonth\"},React.createElement(NewMonth,{getMonth:this.getMonth,getStartbudget:this.getStartbudget,pushMonthObj:this.pushMonthObj,month:this.state.month,startbudget:this.state.startbudget})),React.createElement(Route,{path:\"/monthReview\",component:MonthReview,exact:true},\" \",React.createElement(MonthReview,{monthObj:this.state.monthlistDB,actualBudget:this.state.actualBudget})),React.createElement(Route,{path:\"/actualMonth\",component:ActualMonth,exact:true},React.createElement(ActualMonth,{month:this.state.month,budget:this.state.actualBudget,getActualBudget:this.getActualBudget2,getActualMonth:this.getActualMonth,setAddedNew:this.setAddedNew})),React.createElement(Route,{path:\"/newInput\",component:NewInput},React.createElement(NewInput,{month:this.state.month,budget:this.state.actualBudget,getActualBudget:this.getActualBudget2})),React.createElement(Route,{path:\"/\",render:function render(){return React.createElement(Redirect,{to:\"/start\"});},exact:true})),React.createElement(IonTabBar,{slot:\"bottom\"},React.createElement(IonTabButton,{tab:\"newInput\",href:\"/newInput\",onClick:this.getActualBudget2},React.createElement(IonIcon,{icon:addCircle}),React.createElement(IonLabel,null,\"New Input\")),React.createElement(IonTabButton,{tab:\"actualMonth\",href:\"/actualMonth\",onClick:this.getActualBudget2},React.createElement(IonIcon,{icon:calendar}),React.createElement(IonLabel,null,\" Actual Month \")),React.createElement(IonTabButton,{tab:\"newMonth\",href:\"/newMonth\"},React.createElement(IonIcon,{icon:addCircleOutline}),React.createElement(IonLabel,null,\"New Month\")),React.createElement(IonTabButton,{tab:\"monthReview\",href:\"/monthReview\"},React.createElement(IonIcon,{icon:calendar}),React.createElement(IonLabel,null,\"Month Review\"))))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/benediktkeil/Softwareeng/Test080120/BK_ProjektSoftwareEng/src/App.tsx"],"names":["React","Redirect","Route","IonApp","IonIcon","IonLabel","IonRouterOutlet","IonTabBar","IonTabButton","IonTabs","IonReactRouter","addCircleOutline","calendar","addCircle","NewMonth","MonthReview","NewInput","ActualMonth","Start","StartError","DBConfig","initDB","useIndexedDB","App","state","actualBudget","startbudget","month","monthObj","monthlistDB","allMonthObj","actualMonthObj","actualbudget","id","inputs","inputsSetNew","monthID","firstLoad","normalMode","starterror","summeInputs","getMonth","event","detail","value","monthsubstr","substr","setState","console","log","verifiyMonth","getStartbudget","parseInt","pushMonthObj","push","forceUpdate","add","getAll","then","getActualMonth","getMonthObj","firstLoadApp","length","startRechner","getByID","Math","max","apply","map","o","actualMonth","getActualBudget2","getActualBudget","update","index","added","startBudget","ausgabe","betrag","inputs_id","titel","datum","setAddedNew","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport {\n  IonApp,\n  IonIcon,\n  IonLabel,\n  IonRouterOutlet,\n  IonTabBar,\n  IonTabButton,\n  IonTabs\n} from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport { addCircleOutline, calendar, addCircle } from 'ionicons/icons';\nimport NewMonth from './pages/NewMonth';\nimport MonthReview from './pages/MonthReview';\nimport NewInput from './pages/NewInput';\nimport ActualMonth from './pages/ActualMonth';\nimport Start from './pages/Start';\nimport StartError from './errors/starterror';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\n\nimport { DatetimeChangeEventDetail, InputChangeEventDetail } from '@ionic/core';\nimport { DBConfig } from './db/DBConfig';\n\n\nimport { initDB, useIndexedDB } from 'react-indexed-db';\n\n\ninitDB(DBConfig);\n\n\n\ninterface IState {\n  month: string;\n  startbudget: number;\n  monthObj: object[];\n  monthlist?: object[];\n  monthlistDB: object[];\n  actualMonth?: string;\n  actualBudget: number;\n  allMonthObj: object[];\n  actualMonthObj: actualMonthObj;\n  inputs: object[];\n  inputsSetNew: object[];\n  monthID: number;\n  firstLoad: boolean;\n  normalMode: boolean;\n  starterror: boolean;\n  summeInputs: number;\n}\ninterface IProps {\n\n}\n\ninterface actualMonthObj {\n  month: string;\n  startbudget: number;\n  actualbudget: number;\n  id: number;\n}\n\n/**\n * \n * Documentation Projekt Softwareengineering\n * Es wurde ein Ausgabenrechner implementiert, \n * der eine Übersicht über das aktuelle Budget und alle Ausgaben/Einnahmen eines Monats gibt\n * @author: Benedikt Keil\n * @version: V2.1\n * \n */\nclass App extends React.Component<IProps, IState>{\n  state: IState = {\n    actualBudget: 0,\n    startbudget: 0,\n    month: \"test\",\n    monthObj: [{ \"month\": \"Test\", \"startbudget\": 0 }],\n    monthlistDB: [],\n    allMonthObj: [{ \"month\": \"no Month\", \"startbudget\": 0, \"id\": 1 }],\n    actualMonthObj: { month: \"no Month\", startbudget: 0, actualbudget: 0, id: 0 },\n    inputs: [],\n    inputsSetNew: [],\n    monthID: 1,\n    firstLoad: true,\n    normalMode: false,\n    starterror: false,\n    summeInputs: 0,\n  }\n\n\n  /**\n * Methode um ausgewählten Monat zu speichern\n */\n  public getMonth = (event: CustomEvent<DatetimeChangeEventDetail>) => {\n    let month = event.detail.value;\n    let monthsubstr = month!.substr(0, 7);\n\n\n    this.setState({\n      month: monthsubstr!,\n\n    });\n\n    console.log(this.state.month);\n    this.verifiyMonth();\n  }\n  /**\n  * Methode um eingegebenes Startbudget zu speichern\n  */\n  public getStartbudget = (event: CustomEvent<InputChangeEventDetail>) => {\n    this.setState({\n      startbudget: parseInt(event.detail.value!),\n\n    })\n    console.log(this.state.startbudget);\n\n\n  }\n  /**\n   * Methode um Eingaben über Monat und Startbudget in Indexed DB zu speichern \n   * und um alle gespeicherten Monate in Indexed DB als State (monthlistDB) zu speichern.\n   * Aufruf der Methode getActualMonth um aktuellen Monat in App zu setzen.\n   */\n  public pushMonthObj = () => {\n\n    this.state.monthObj.push({ \"month\": this.state.month, \"startbudget\": this.state.startbudget })\n    this.forceUpdate();\n    const { add, getAll } = useIndexedDB('monthlist');\n\n\n    add({ month: this.state.month, startbudget: this.state.startbudget, actualbudget: this.state.startbudget })\n\n\n\n    getAll().then((monthlistDB) => {\n      this.setState({\n        monthlistDB: monthlistDB\n      })\n    })\n    this.getActualMonth();\n  }\n\n  /**\n   * Methode um alle gespeicherten Monate in Indexed DB abzurufen\n   * und im State monthlistDB zu speichern\n   */\n  public getMonthObj = () => {\n    const { getAll } = useIndexedDB('monthlist');\n    getAll().then((monthlistDB) => {\n      this.setState({\n        monthlistDB: monthlistDB\n      })\n    })\n  }\n\n  /**\n   * Methode um Startseite beim aller ersten Start der App zu starten.\n   * Die Seite wird benötigt um einen ersten Datenbank Eintrag zu generieren.\n   */\n  public firstLoadApp = () => {\n    const { getAll } = useIndexedDB('monthlist');\n    getAll().then((month) => {\n\n      if (month.length === 0) {\n        this.setState({\n          firstLoad: true,\n        })\n      }\n      else {\n        this.setState({\n          firstLoad: false,\n          normalMode: true,\n        })\n        this.getActualMonth();\n      }\n    })\n    console.log(this.state.month + this.state.startbudget);\n  }\n\n\n  /**\n   * Methode erstellt nach betätigen des \"Start Ausgabenrechner\" Buttons den ersten Datenbankeintrag in dem objectStore \"monthlist\"\n   */\n  public startRechner = () => {\n\n    const { add, getAll } = useIndexedDB('monthlist');\n    if (this.state.month !== \"test\" && this.state.startbudget !== 0) {\n      add({ month: this.state.month, startbudget: this.state.startbudget, actualbudget: this.state.startbudget });\n      getAll().then((month) => {\n\n        if (month.length === 0) {\n          add({ month: this.state.month, startbudget: this.state.startbudget, actualbudget: this.state.startbudget });\n        }\n        getAll().then((month) => {\n\n\n          this.setState({\n            allMonthObj: month,\n            firstLoad: false,\n            normalMode: true,\n          })\n\n          this.getActualMonth();\n        })\n      })\n    }\n    else {\n      this.setState({\n        starterror: true,\n      })\n    }\n  }\n\n\n  /**\n   * Methode um aktuellen Monat (letzter hinzugefügter Monat) abzurufen\n   * und speichern der Werte dieses Monats als State (month, startbudget, actualbudget).\n   * Aufruf der Methode getActualBudget um aktuelles Budget abzurufen, wenn sich der Monat ändert.\n   */\n  public getActualMonth = () => {\n\n    const { getAll, getByID } = useIndexedDB('monthlist');\n    getAll().then((month) => {\n\n\n      this.setState({\n        allMonthObj: month\n      })\n    }).then(() => {\n      getByID(Math.max.apply(Math, this.state.allMonthObj.map((o: any) => { this.setState({ monthID: o.id }); return o.id }))).then((actualMonth) => {\n        console.log(actualMonth);\n\n        this.setState({\n          actualMonthObj: actualMonth,\n        })\n        this.setState({\n          month: this.state.actualMonthObj.month,\n          startbudget: this.state.actualMonthObj.startbudget,\n          actualBudget: this.state.actualMonthObj.actualbudget,\n        })\n        this.forceUpdate();\n        console.log(this.state.actualBudget)\n        this.getActualBudget2();\n\n\n      })\n    })\n\n  }\n\n\n\n  /**\n   * Methode um aktuelles Budget aller Inputs des aktuellen Monats zu berechnen.\n   * Speichert den Wert in State (aktualBudget) \n   */\n  public getActualBudget = () => {\n\n    const { getAll, update } = useIndexedDB('inputs');\n\n    getAll().then((inputs) => {\n\n      this.setState({\n        inputs: inputs\n      })\n    }).then(() => {\n\n      if (this.state.inputs.length !== 0) {\n\n        this.state.inputs.map((index: any) => {\n          if (index.month === this.state.month && index.added === true) {\n            let actualBudget = index.actualbudget;\n            this.setState({\n              actualBudget: actualBudget,\n            })\n          }\n          if (index.month === this.state.month && index.added === false) {\n            if (this.state.actualBudget === this.state.startbudget) {\n              console.log(\"start === actual\");\n              let startBudget = this.state.startbudget;\n              if (index.ausgabe) {\n\n                startBudget += index.betrag;\n                this.setState({\n                  actualBudget: startBudget,\n                })\n                update({ inputs_id: index.inputs_id, betrag: index.betrag, ausgabe: index.ausgabe, titel: index.titel, datum: index.datum, month: index.month, added: true, actualbudget: startBudget });\n\n              }\n              else {\n                startBudget -= index.betrag;\n                this.setState({\n                  actualBudget: startBudget,\n                });\n                console.log(\"- rechnen\")\n                console.log(this.state.actualBudget)\n                update({ inputs_id: index.inputs_id, betrag: index.betrag, ausgabe: index.ausgabe, titel: index.titel, datum: index.datum, month: index.month, added: true, actualbudget: startBudget });\n\n              }\n            }\n            else {\n              console.log(\"else\");\n              let actualBudget = index.actualbudget;\n              this.setState({\n                actualBudget: actualBudget,\n              })\n              if (index.ausgabe) {\n\n                actualBudget += index.betrag;\n                this.setState({\n                  actualBudget: actualBudget,\n                })\n                update({ inputs_id: index.inputs_id, betrag: index.betrag, ausgabe: index.ausgabe, titel: index.titel, datum: index.datum, month: index.month, added: true, actualbudget: actualBudget });\n\n              }\n              else {\n                actualBudget -= index.betrag;\n                this.setState({\n                  actualBudget: actualBudget,\n                });\n                update({ inputs_id: index.inputs_id, betrag: index.betrag, ausgabe: index.ausgabe, titel: index.titel, datum: index.datum, month: index.month, added: true, actualbudget: actualBudget });\n\n              }\n            }\n          }\n          return {\n          }\n        })\n      }\n    })\n  }\n\n  public getActualBudget2 = () => {\n    const { getAll, update } = useIndexedDB('inputs');\n    getAll().then((inputs) => {\n\n      this.setState({\n        inputs: inputs,\n        summeInputs: 0,\n      })\n    }).then(() => {\n      if (this.state.inputs.length !== 0) {\n        this.state.inputs.map((index: any) => {\n          if (index.month === this.state.month) {\n            let summeInputs = this.state.summeInputs;\n            if (index.ausgabe) {\n              summeInputs -= index.betrag;\n\n              this.setState({\n                summeInputs: summeInputs,\n              })\n            } else {\n              summeInputs += index.betrag;\n\n              this.setState({\n                summeInputs: summeInputs,\n              })\n            }\n          }\n        })\n      }\n    }).then(() => {\n      let actualBudget = this.state.startbudget - this.state.summeInputs;\n      this.setState({\n        actualBudget: actualBudget,\n      })\n    })\n  }\n\n  public setAddedNew = () => {\n    const { getAll, update } = useIndexedDB('inputs');\n\n    getAll().then((inputs) => {\n      this.setState({\n        inputsSetNew: inputs,\n\n      })\n\n    }).then(() => {\n      if (this.state.inputsSetNew.length !== 0) {\n\n        console.log(\"actualReset: \" + this.state.actualBudget)\n        this.state.inputs.map((index: any) => {\n          if (index.month === this.state.month && index.added === true) {\n            update({ inputs_id: index.inputs_id, betrag: index.betrag, ausgabe: index.ausgabe, titel: index.titel, datum: index.datum, month: index.month, added: false, actualbudget: index.actualbudget })\n          }\n\n        })\n      }\n    }).then(() => {\n      this.setState({\n        actualBudget: this.state.startbudget\n      })\n      this.getActualBudget2();\n    })\n\n\n  }\n\n\n\n\n\n  public verifiyMonth = () => {\n    const { getAll } = useIndexedDB('monthlist');\n    getAll().then((month) => {\n      month.map((index: any) => {\n        console.log(\"Test Month Verify: \" + this.state.month)\n        if (index.month === this.state.month) {\n          this.setState({\n            starterror: true,\n            month: \"test\",\n            normalMode: false,\n          })\n          console.log(this.state.starterror);\n        }\n      })\n    })\n\n  }\n\n  /**\n   * Diese Methode rendert die TabBar die immer am unteren Bildschirmende gezeigt wird. \n   * Außerdem wird ein Router erstellt der die Navigation zwischen den einzelnen Seiten bereit stellt.\n   * Hier werden auch die Methoden der App Klasse an die anderen Komponenten übergeben, \n   * die dann in den einzelne Komponenten als Props zur Verfügung stehen.\n   */\n  public render() {\n\n    return (\n      <IonApp onLoad={() => { this.firstLoadApp(); this.getMonthObj(); }}>\n\n        {this.state.firstLoad && (<Start startRechner={this.startRechner} getMonth={this.getMonth} getStartbudget={this.getStartbudget} month={this.state.month} startbudget={this.state.startbudget}></Start>)}\n        {this.state.starterror && (<StartError></StartError>)}\n        <IonReactRouter>\n\n          {this.state.normalMode && (<IonTabs>\n            <IonRouterOutlet>\n              <Route path=\"/newMonth\" >\n                <NewMonth getMonth={this.getMonth} getStartbudget={this.getStartbudget} pushMonthObj={this.pushMonthObj} month={this.state.month} startbudget={this.state.startbudget}></NewMonth>\n              </Route>\n              <Route path=\"/monthReview\" component={MonthReview} exact={true}> <MonthReview monthObj={this.state.monthlistDB} actualBudget={this.state.actualBudget}></MonthReview></Route>\n              <Route path=\"/actualMonth\" component={ActualMonth} exact={true}>\n                <ActualMonth month={this.state.month} budget={this.state.actualBudget} getActualBudget={this.getActualBudget2} getActualMonth={this.getActualMonth} setAddedNew={this.setAddedNew}></ActualMonth>\n              </Route>\n              <Route path=\"/newInput\" component={NewInput}>\n                <NewInput month={this.state.month} budget={this.state.actualBudget} getActualBudget={this.getActualBudget2} ></NewInput>\n              </Route>\n              <Route path=\"/\" render={() => <Redirect to=\"/start\" />} exact={true} />\n            </IonRouterOutlet>\n\n            <IonTabBar slot=\"bottom\">\n              <IonTabButton tab=\"newInput\" href=\"/newInput\" onClick={this.getActualBudget2}>\n                <IonIcon icon={addCircle} />\n                <IonLabel>New Input</IonLabel>\n              </IonTabButton>\n              <IonTabButton tab=\"actualMonth\" href=\"/actualMonth\" onClick={this.getActualBudget2}>\n                <IonIcon icon={calendar} />\n                <IonLabel> Actual Month </IonLabel>\n              </IonTabButton>\n              <IonTabButton tab=\"newMonth\" href=\"/newMonth\">\n                <IonIcon icon={addCircleOutline} />\n                <IonLabel>New Month</IonLabel>\n              </IonTabButton>\n              <IonTabButton tab=\"monthReview\" href=\"/monthReview\">\n                <IonIcon icon={calendar} />\n                <IonLabel>Month Review</IonLabel>\n              </IonTabButton>\n\n\n            </IonTabBar>\n          </IonTabs>)}\n\n        </IonReactRouter>\n      </IonApp>\n    )\n  };\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}