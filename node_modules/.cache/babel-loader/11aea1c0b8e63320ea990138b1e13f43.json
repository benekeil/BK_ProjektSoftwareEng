{"ast":null,"code":"var _jsxFileName = \"/Users/benediktkeil/Softwareeng/Test080120/BK_ProjektSoftwareEng/src/pages/MonthReview.tsx\";\nimport React from 'react';\nimport { IonContent, IonHeader, IonItem, IonLabel, IonList, IonPage, IonTitle, IonToolbar, IonSelect, IonSelectOption, IonGrid, IonRow, IonCol } from '@ionic/react';\nimport { useIndexedDB } from 'react-indexed-db';\n\n/**\n * Klasse oder Komponente die alle bisher hinzugefügten Monate in einer Auswahl auflistet \n * und nach Auswahl eines Monats dessen kompletten Eingaben aufzeigt\n */\nclass MonthReview extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      inputs: [],\n      reviewedMonth: \"\",\n      monthlist: [],\n      endBudget: 0,\n      summeInputs: 0,\n      startbudget: 0\n    };\n\n    this.getMonthReview = event => {\n      this.setState({\n        reviewedMonth: event.detail.value\n      });\n      this.getMonthInputs();\n      this.getMonthValues();\n    };\n\n    this.getMonthInputs = () => {\n      const _useIndexedDB = useIndexedDB('inputs'),\n            getAll = _useIndexedDB.getAll,\n            update = _useIndexedDB.update;\n\n      getAll().then(inputs => {\n        this.setState({\n          inputs: inputs,\n          summeInputs: 0\n        });\n      }).then(() => {\n        if (this.state.inputs.length !== 0) {\n          this.state.inputs.map(index => {\n            if (index.month === this.state.reviewedMonth.substr(0, 7)) {\n              let summeInputs = this.state.summeInputs;\n\n              if (index.ausgabe) {\n                summeInputs -= index.betrag;\n                this.setState({\n                  summeInputs: summeInputs\n                });\n              } else {\n                summeInputs += index.betrag;\n                this.setState({\n                  summeInputs: summeInputs\n                });\n              }\n            }\n          });\n        }\n      }).then(() => {\n        let endBudget = this.state.startbudget - this.state.summeInputs;\n        this.setState({\n          endBudget: endBudget\n        });\n      });\n    };\n\n    this.getMonthValues = () => {\n      const _useIndexedDB2 = useIndexedDB('monthlist'),\n            getAll = _useIndexedDB2.getAll;\n\n      getAll().then(monthlist => {\n        this.setState({\n          monthlist: monthlist\n        });\n        monthlist.map(index => {});\n      });\n    };\n  }\n\n  /**\n   * Methode rendert die Seite Month Review. \n   * Nachdem ein Monat über das Select Tag ausgewählt wurde, \n   * wird eine Liste mit allen Inputs des ausgewählten Monats gerendert.\n   * Ebenfalls wird das Startbudget und das am Ende übrig gebliebene Endbudget angezeigt.\n   */\n  render() {\n    return React.createElement(IonPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(IonHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(IonToolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(IonTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Month List\"))), React.createElement(IonContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(IonList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(IonItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(IonLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(IonSelect, {\n      slot: \"start\",\n      multiple: false,\n      placeholder: \"Select Month\",\n      onIonChange: this.getMonthReview,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, this.props.monthObj.map(index => {\n      return React.createElement(IonSelectOption, {\n        key: index.month,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, index.month, \" \");\n    }))), React.createElement(IonList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, this.state.monthlist.map(monthValues => {\n      if (monthValues.month === this.state.reviewedMonth.substr(0, 7)) {\n        this.setState({\n          startbudget: monthValues.startbudget\n        });\n        return React.createElement(IonItem, {\n          key: monthValues.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, React.createElement(IonLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, \"Startbudget: \", monthValues.startbudget), React.createElement(IonLabel, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"Endbudget: \", this.state.endBudget));\n      }\n    })), React.createElement(IonList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, this.state.inputs.map(index => {\n      if (index.month === this.state.reviewedMonth.substr(0, 7)) {\n        let out = \"\";\n\n        if (index.ausgabe) {\n          out = \"+ \";\n        } else {\n          out = \"- \";\n        }\n\n        return React.createElement(IonItem, {\n          key: index.inputs_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(IonGrid, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(IonRow, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, React.createElement(IonCol, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, index.datum.substr(0, 10)), React.createElement(IonCol, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, index.titel), React.createElement(IonCol, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, out, index.betrag, \"\\u20AC\"))));\n      }\n    })))));\n  }\n\n}\n\nexport default MonthReview;","map":{"version":3,"sources":["/Users/benediktkeil/Softwareeng/Test080120/BK_ProjektSoftwareEng/src/pages/MonthReview.tsx"],"names":["React","IonContent","IonHeader","IonItem","IonLabel","IonList","IonPage","IonTitle","IonToolbar","IonSelect","IonSelectOption","IonGrid","IonRow","IonCol","useIndexedDB","MonthReview","Component","state","inputs","reviewedMonth","monthlist","endBudget","summeInputs","startbudget","getMonthReview","event","setState","detail","value","getMonthInputs","getMonthValues","getAll","update","then","length","map","index","month","substr","ausgabe","betrag","render","props","monthObj","monthValues","id","out","inputs_id","datum","titel"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { IonContent, IonHeader, IonItem, IonLabel, IonList, IonPage, IonTitle, IonToolbar, IonSelect, IonSelectOption, IonGrid, IonRow, IonCol } from '@ionic/react';\n\nimport { InputChangeEventDetail } from '@ionic/core';\nimport { useIndexedDB } from 'react-indexed-db';\n\n\n\n\n\ninterface IState {\n  reviewedMonth: string;\n  inputs: object[];\n  monthlist: object[];\n  endBudget: number;\n  summeInputs: number;\n  startbudget: number;\n}\n\ninterface IProps {\n  monthObj: object[];\n  actualBudget: number;\n}\n\n\n/**\n * Klasse oder Komponente die alle bisher hinzugefügten Monate in einer Auswahl auflistet \n * und nach Auswahl eines Monats dessen kompletten Eingaben aufzeigt\n */\nclass MonthReview extends React.Component<IProps, IState> {\n  state: IState = {\n    inputs: [],\n    reviewedMonth: \"\",\n    monthlist: [],\n    endBudget: 0,\n    summeInputs: 0,\n    startbudget: 0,\n  }\n\n  /**\n   * Methode um ausgewählten Monat der Monatsauswahl zu speichern und\n   * Aufruf der Methodem getMonthInputs und getMonthValues\n   */\n  public getMonthReview = (event: CustomEvent<InputChangeEventDetail>) => {\n    this.setState({\n      reviewedMonth: event.detail.value!,\n    })\n    this.getMonthInputs();\n    this.getMonthValues();\n   \n  }\n\n  /**\n   * Methode um alle Inputs der Indexed DB abzurufen und in State inputs zu speichern.\n   * Auch wird hier der Endbetrag des ausgewählten Monats gesetzt \n   */\n  public getMonthInputs = () => {\n    const { getAll, update } = useIndexedDB('inputs');\n    getAll().then((inputs) => {\n\n      this.setState({\n        inputs: inputs,\n        summeInputs: 0,\n      })\n    }).then(() => {\n      if (this.state.inputs.length !== 0) {\n        this.state.inputs.map((index: any) => {\n          if (index.month === this.state.reviewedMonth.substr(0,7)) {\n            let summeInputs = this.state.summeInputs;\n            \n            if (index.ausgabe) {\n              summeInputs -= index.betrag;\n\n              this.setState({\n                summeInputs: summeInputs,\n              })\n            } else {\n              summeInputs += index.betrag;\n\n              this.setState({\n                summeInputs: summeInputs,\n              })\n            }\n          }\n        })\n      }\n    }).then(() => {\n      let endBudget = this.state.startbudget - this.state.summeInputs;\n      this.setState({\n        endBudget: endBudget,\n      })\n    })\n  }\n\n  /**\n   * Methode um alle in der Indexed DB gespeicherten Werte des ObjectStores \"monthlist\" abzurufen \n   * und im State \"monthlist\" zu speichern\n   */\n  public getMonthValues = () => {\n    const { getAll } = useIndexedDB('monthlist');\n\n    getAll().then((monthlist) => {\n\n      this.setState({\n        monthlist: monthlist\n      })  \n      monthlist.map((index: any)=>{\n        \n      })    \n    }) \n  }\n\n\n  /**\n   * Methode rendert die Seite Month Review. \n   * Nachdem ein Monat über das Select Tag ausgewählt wurde, \n   * wird eine Liste mit allen Inputs des ausgewählten Monats gerendert.\n   * Ebenfalls wird das Startbudget und das am Ende übrig gebliebene Endbudget angezeigt.\n   */\n  public render() {\n    \n    return (\n      <IonPage>\n        <IonHeader>\n          <IonToolbar>\n            <IonTitle>Month List</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <IonContent>\n          <IonList>\n            <IonItem >\n              <IonLabel>\n\n              </IonLabel>\n              <IonSelect slot=\"start\" multiple={false} placeholder=\"Select Month\" onIonChange={this.getMonthReview}>\n                {\n                  this.props.monthObj.map((index: any) => {\n                    return (\n                      <IonSelectOption key={index.month}>{index.month} </IonSelectOption>\n                    )\n\n                  })\n                }\n\n              </IonSelect>\n            </IonItem>\n\n                <IonList>\n                {\n                this.state.monthlist.map((monthValues: any)=>{\n                    if(monthValues.month === this.state.reviewedMonth.substr(0,7)){\n                      this.setState({\n                        startbudget: monthValues.startbudget\n                      })\n                      return(\n                        <IonItem key={monthValues.id}>\n                        <IonLabel>\n                          Startbudget: {monthValues.startbudget}\n                        </IonLabel>\n                        <IonLabel>\n                        Endbudget: {this.state.endBudget}\n                        </IonLabel>  \n                        </IonItem>\n\n                        \n                      )\n                    }\n                }) } \n\n                </IonList>\n            \n\n            <IonList>\n             \n                {\n                this.state.inputs.map((index: any) => {\n\n                  if (index.month === this.state.reviewedMonth.substr(0,7)) {\n                      \n                    let out = \"\";\n                    if (index.ausgabe) {\n                      out = \"+ \"\n                    }\n                    else {\n                      out = \"- \"\n\n                    }\n                    \n                    return (\n                      <IonItem key={index.inputs_id}>\n                        <IonGrid>\n                          <IonRow >\n                            <IonCol>{index.datum.substr(0, 10)}</IonCol>\n                            <IonCol>{index.titel}</IonCol>\n                            <IonCol>\n                              {out}\n                              {index.betrag}€</IonCol>\n\n                          </IonRow>\n                        </IonGrid>\n                      </IonItem>\n                    )\n                  }\n                })\n              }\n            </IonList>\n            \n          </IonList>\n        </IonContent>\n      </IonPage>\n    );\n  }\n\n}\nexport default MonthReview;"]},"metadata":{},"sourceType":"module"}