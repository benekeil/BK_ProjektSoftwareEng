{"ast":null,"code":"var _jsxFileName = \"/Users/benediktkeil/Softwareeng/Test080120/BK_ProjektSoftwareEng/src/App.tsx\";\nimport React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { IonApp, IonIcon, IonLabel, IonRouterOutlet, IonTabBar, IonTabButton, IonTabs } from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport { addCircleOutline, calendar, addCircle } from 'ionicons/icons';\nimport NewMonth from './pages/NewMonth';\nimport MonthReview from './pages/MonthReview';\nimport NewInput from './pages/NewInput';\nimport ActualMonth from './pages/ActualMonth';\nimport Start from './pages/Start';\nimport StartError from './errors/starterror';\n/* Core CSS required for Ionic components to work properly */\n\nimport '@ionic/react/css/core.css';\n/* Basic CSS for apps built with Ionic */\n\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n/* Optional CSS utils that can be commented out */\n\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n/* Theme variables */\n\nimport './theme/variables.css';\nimport { DBConfig } from './db/DBConfig';\nimport { initDB, useIndexedDB } from 'react-indexed-db';\ninitDB(DBConfig);\n\n/**\n * \n * Documentation Projekt Softwareengineering\n * Es wurde ein Ausgabenrechner implementiert, \n * der eine Übersicht über das aktuelle Budget und alle Ausgaben/Einnahmen eines Monats gibt\n * @author: Benedikt Keil\n * @version: V2.1\n * \n */\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      actualBudget: 0,\n      startbudget: 0,\n      month: \"test\",\n      monthObj: [{\n        \"month\": \"Test\",\n        \"startbudget\": 0\n      }],\n      monthlistDB: [],\n      allMonthObj: [{\n        \"month\": \"no Month\",\n        \"startbudget\": 0,\n        \"id\": 1\n      }],\n      actualMonthObj: {\n        month: \"no Month\",\n        startbudget: 0,\n        actualbudget: 0,\n        id: 0\n      },\n      inputs: [],\n      inputsSetNew: [],\n      monthID: 1,\n      firstLoad: true,\n      normalMode: false,\n      starterror: false,\n      summeInputs: 0\n    };\n\n    this.getMonth = event => {\n      let month = event.detail.value;\n      let monthsubstr = month.substr(0, 7);\n      this.setState({\n        month: monthsubstr\n      });\n      console.log(this.state.month);\n      this.verifiyMonth();\n    };\n\n    this.getStartbudget = event => {\n      this.setState({\n        startbudget: parseInt(event.detail.value)\n      });\n      console.log(this.state.startbudget);\n    };\n\n    this.pushMonthObj = () => {\n      this.state.monthObj.push({\n        \"month\": this.state.month,\n        \"startbudget\": this.state.startbudget\n      });\n      this.forceUpdate();\n\n      const _useIndexedDB = useIndexedDB('monthlist'),\n            add = _useIndexedDB.add,\n            getAll = _useIndexedDB.getAll;\n\n      add({\n        month: this.state.month,\n        startbudget: this.state.startbudget,\n        actualbudget: this.state.startbudget\n      });\n      getAll().then(monthlistDB => {\n        this.setState({\n          monthlistDB: monthlistDB\n        });\n      });\n      this.getActualMonth();\n    };\n\n    this.getMonthObj = () => {\n      const _useIndexedDB2 = useIndexedDB('monthlist'),\n            getAll = _useIndexedDB2.getAll;\n\n      getAll().then(monthlistDB => {\n        this.setState({\n          monthlistDB: monthlistDB\n        });\n      });\n    };\n\n    this.firstLoadApp = () => {\n      const _useIndexedDB3 = useIndexedDB('monthlist'),\n            getAll = _useIndexedDB3.getAll;\n\n      getAll().then(month => {\n        if (month.length === 0) {\n          this.setState({\n            firstLoad: true\n          });\n        } else {\n          this.setState({\n            firstLoad: false,\n            normalMode: true\n          });\n          this.getActualMonth();\n        }\n      });\n      console.log(this.state.month + this.state.startbudget);\n    };\n\n    this.startRechner = () => {\n      const _useIndexedDB4 = useIndexedDB('monthlist'),\n            add = _useIndexedDB4.add,\n            getAll = _useIndexedDB4.getAll;\n\n      if (this.state.month !== \"test\" && this.state.startbudget !== 0) {\n        add({\n          month: this.state.month,\n          startbudget: this.state.startbudget,\n          actualbudget: this.state.startbudget\n        });\n        getAll().then(month => {\n          if (month.length === 0) {\n            add({\n              month: this.state.month,\n              startbudget: this.state.startbudget,\n              actualbudget: this.state.startbudget\n            });\n          }\n\n          getAll().then(month => {\n            this.setState({\n              allMonthObj: month,\n              firstLoad: false,\n              normalMode: true\n            });\n            this.getActualMonth();\n          });\n        });\n      } else {\n        this.setState({\n          starterror: true\n        });\n      }\n    };\n\n    this.getActualMonth = () => {\n      const _useIndexedDB5 = useIndexedDB('monthlist'),\n            getAll = _useIndexedDB5.getAll,\n            getByID = _useIndexedDB5.getByID;\n\n      getAll().then(month => {\n        this.setState({\n          allMonthObj: month\n        });\n      }).then(() => {\n        getByID(Math.max.apply(Math, this.state.allMonthObj.map(o => {\n          this.setState({\n            monthID: o.id\n          });\n          return o.id;\n        }))).then(actualMonth => {\n          console.log(actualMonth);\n          this.setState({\n            actualMonthObj: actualMonth\n          });\n          this.setState({\n            month: this.state.actualMonthObj.month,\n            startbudget: this.state.actualMonthObj.startbudget,\n            actualBudget: this.state.actualMonthObj.actualbudget\n          });\n          this.forceUpdate();\n          console.log(this.state.actualBudget);\n          this.getActualBudget();\n        });\n      });\n    };\n\n    this.getActualBudget = () => {\n      const _useIndexedDB6 = useIndexedDB('inputs'),\n            getAll = _useIndexedDB6.getAll,\n            update = _useIndexedDB6.update;\n\n      getAll().then(inputs => {\n        this.setState({\n          inputs: inputs\n        });\n      }).then(() => {\n        if (this.state.inputs.length !== 0) {\n          this.state.inputs.map(index => {\n            if (index.month === this.state.month && index.added === true) {\n              let actualBudget = index.actualbudget;\n              this.setState({\n                actualBudget: actualBudget\n              });\n            }\n\n            if (index.month === this.state.month && index.added === false) {\n              if (this.state.actualBudget === this.state.startbudget) {\n                console.log(\"start === actual\");\n                let startBudget = this.state.startbudget;\n\n                if (index.ausgabe) {\n                  startBudget += index.betrag;\n                  this.setState({\n                    actualBudget: startBudget\n                  });\n                  update({\n                    inputs_id: index.inputs_id,\n                    betrag: index.betrag,\n                    ausgabe: index.ausgabe,\n                    titel: index.titel,\n                    datum: index.datum,\n                    month: index.month,\n                    added: true,\n                    actualbudget: startBudget\n                  });\n                } else {\n                  startBudget -= index.betrag;\n                  this.setState({\n                    actualBudget: startBudget\n                  });\n                  console.log(\"- rechnen\");\n                  console.log(this.state.actualBudget);\n                  update({\n                    inputs_id: index.inputs_id,\n                    betrag: index.betrag,\n                    ausgabe: index.ausgabe,\n                    titel: index.titel,\n                    datum: index.datum,\n                    month: index.month,\n                    added: true,\n                    actualbudget: startBudget\n                  });\n                }\n              } else {\n                console.log(\"else\");\n                let actualBudget = index.actualbudget;\n                this.setState({\n                  actualBudget: actualBudget\n                });\n\n                if (index.ausgabe) {\n                  actualBudget += index.betrag;\n                  this.setState({\n                    actualBudget: actualBudget\n                  });\n                  update({\n                    inputs_id: index.inputs_id,\n                    betrag: index.betrag,\n                    ausgabe: index.ausgabe,\n                    titel: index.titel,\n                    datum: index.datum,\n                    month: index.month,\n                    added: true,\n                    actualbudget: actualBudget\n                  });\n                } else {\n                  actualBudget -= index.betrag;\n                  this.setState({\n                    actualBudget: actualBudget\n                  });\n                  update({\n                    inputs_id: index.inputs_id,\n                    betrag: index.betrag,\n                    ausgabe: index.ausgabe,\n                    titel: index.titel,\n                    datum: index.datum,\n                    month: index.month,\n                    added: true,\n                    actualbudget: actualBudget\n                  });\n                }\n              }\n            }\n\n            return {};\n          });\n        }\n      });\n    };\n\n    this.getActualBudget2 = () => {\n      const _useIndexedDB7 = useIndexedDB('inputs'),\n            getAll = _useIndexedDB7.getAll,\n            update = _useIndexedDB7.update;\n\n      getAll().then(inputs => {\n        this.setState({\n          inputs: inputs\n        });\n      }).then(() => {\n        if (this.state.inputs.length !== 0) {\n          this.state.inputs.map(index => {\n            if (index.month === this.state.month) {\n              let summeInputs = this.state.summeInputs;\n\n              if (index.ausgabe) {\n                summeInputs -= index.betrag;\n                this.setState({\n                  summeInputs: summeInputs\n                });\n              } else {\n                summeInputs += index.betrag;\n                this.setState({\n                  summeInputs: summeInputs\n                });\n              }\n            }\n          });\n        }\n      }).then(() => {\n        let actualBudget = this.state.startbudget - this.state.summeInputs;\n        this.setState({\n          actualBudget: actualBudget\n        });\n      });\n    };\n\n    this.setAddedNew = () => {\n      const _useIndexedDB8 = useIndexedDB('inputs'),\n            getAll = _useIndexedDB8.getAll,\n            update = _useIndexedDB8.update;\n\n      getAll().then(inputs => {\n        this.setState({\n          inputsSetNew: inputs\n        });\n      }).then(() => {\n        if (this.state.inputsSetNew.length !== 0) {\n          console.log(\"actualReset: \" + this.state.actualBudget);\n          this.state.inputs.map(index => {\n            if (index.month === this.state.month && index.added === true) {\n              update({\n                inputs_id: index.inputs_id,\n                betrag: index.betrag,\n                ausgabe: index.ausgabe,\n                titel: index.titel,\n                datum: index.datum,\n                month: index.month,\n                added: false,\n                actualbudget: index.actualbudget\n              });\n            }\n          });\n        }\n      }).then(() => {\n        this.setState({\n          actualBudget: this.state.startbudget\n        });\n        this.getActualBudget2();\n      });\n    };\n\n    this.verifiyMonth = () => {\n      const _useIndexedDB9 = useIndexedDB('monthlist'),\n            getAll = _useIndexedDB9.getAll;\n\n      getAll().then(month => {\n        month.map(index => {\n          console.log(\"Test Month Verify: \" + this.state.month);\n\n          if (index.month === this.state.month) {\n            this.setState({\n              starterror: true,\n              month: \"test\",\n              normalMode: false\n            });\n            console.log(this.state.starterror);\n          }\n        });\n      });\n    };\n  }\n\n  /**\n   * Diese Methode rendert die TabBar die immer am unteren Bildschirmende gezeigt wird. \n   * Außerdem wird ein Router erstellt der die Navigation zwischen den einzelnen Seiten bereit stellt.\n   * Hier werden auch die Methoden der App Klasse an die anderen Komponenten übergeben, \n   * die dann in den einzelne Komponenten als Props zur Verfügung stehen.\n   */\n  render() {\n    return React.createElement(IonApp, {\n      onLoad: () => {\n        this.firstLoadApp();\n        this.getMonthObj();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, this.state.firstLoad && React.createElement(Start, {\n      startRechner: this.startRechner,\n      getMonth: this.getMonth,\n      getStartbudget: this.getStartbudget,\n      month: this.state.month,\n      startbudget: this.state.startbudget,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }), this.state.starterror && React.createElement(StartError, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    }), React.createElement(IonReactRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, this.state.normalMode && React.createElement(IonTabs, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }, React.createElement(IonRouterOutlet, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/newMonth\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, React.createElement(NewMonth, {\n      getMonth: this.getMonth,\n      getStartbudget: this.getStartbudget,\n      pushMonthObj: this.pushMonthObj,\n      month: this.state.month,\n      startbudget: this.state.startbudget,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    })), React.createElement(Route, {\n      path: \"/monthReview\",\n      component: MonthReview,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    }, \" \", React.createElement(MonthReview, {\n      monthObj: this.state.monthlistDB,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    })), React.createElement(Route, {\n      path: \"/actualMonth\",\n      component: ActualMonth,\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }, React.createElement(ActualMonth, {\n      month: this.state.month,\n      budget: this.state.actualBudget,\n      getActualBudget: this.getActualBudget,\n      getActualMonth: this.getActualMonth,\n      setAddedNew: this.setAddedNew,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    })), React.createElement(Route, {\n      path: \"/newInput\",\n      component: NewInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    }, React.createElement(NewInput, {\n      month: this.state.month,\n      budget: this.state.actualBudget,\n      getActualBudget: this.getActualBudget,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    })), React.createElement(Route, {\n      path: \"/\",\n      render: () => React.createElement(Redirect, {\n        to: \"/start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }),\n      exact: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    })), React.createElement(IonTabBar, {\n      slot: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473\n      },\n      __self: this\n    }, React.createElement(IonTabButton, {\n      tab: \"newInput\",\n      href: \"/newInput\",\n      onClick: this.getActualBudget,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474\n      },\n      __self: this\n    }, React.createElement(IonIcon, {\n      icon: addCircle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    }), React.createElement(IonLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476\n      },\n      __self: this\n    }, \"New Input\")), React.createElement(IonTabButton, {\n      tab: \"actualMonth\",\n      href: \"/actualMonth\",\n      onClick: this.getActualBudget,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }, React.createElement(IonIcon, {\n      icon: calendar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }), React.createElement(IonLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }, \" Actual Month \")), React.createElement(IonTabButton, {\n      tab: \"newMonth\",\n      href: \"/newMonth\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, React.createElement(IonIcon, {\n      icon: addCircleOutline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }), React.createElement(IonLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, \"New Month\")), React.createElement(IonTabButton, {\n      tab: \"monthReview\",\n      href: \"/monthReview\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, React.createElement(IonIcon, {\n      icon: calendar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }), React.createElement(IonLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, \"Month Review\"))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/benediktkeil/Softwareeng/Test080120/BK_ProjektSoftwareEng/src/App.tsx"],"names":["React","Redirect","Route","IonApp","IonIcon","IonLabel","IonRouterOutlet","IonTabBar","IonTabButton","IonTabs","IonReactRouter","addCircleOutline","calendar","addCircle","NewMonth","MonthReview","NewInput","ActualMonth","Start","StartError","DBConfig","initDB","useIndexedDB","App","Component","state","actualBudget","startbudget","month","monthObj","monthlistDB","allMonthObj","actualMonthObj","actualbudget","id","inputs","inputsSetNew","monthID","firstLoad","normalMode","starterror","summeInputs","getMonth","event","detail","value","monthsubstr","substr","setState","console","log","verifiyMonth","getStartbudget","parseInt","pushMonthObj","push","forceUpdate","add","getAll","then","getActualMonth","getMonthObj","firstLoadApp","length","startRechner","getByID","Math","max","apply","map","o","actualMonth","getActualBudget","update","index","added","startBudget","ausgabe","betrag","inputs_id","titel","datum","getActualBudget2","setAddedNew","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport {\n  IonApp,\n  IonIcon,\n  IonLabel,\n  IonRouterOutlet,\n  IonTabBar,\n  IonTabButton,\n  IonTabs\n} from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport { addCircleOutline, calendar, addCircle } from 'ionicons/icons';\nimport NewMonth from './pages/NewMonth';\nimport MonthReview from './pages/MonthReview';\nimport NewInput from './pages/NewInput';\nimport ActualMonth from './pages/ActualMonth';\nimport Start from './pages/Start';\nimport StartError from './errors/starterror';\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\n\nimport { DatetimeChangeEventDetail, InputChangeEventDetail } from '@ionic/core';\nimport { DBConfig } from './db/DBConfig';\n\n\nimport { initDB, useIndexedDB } from 'react-indexed-db';\n\n\ninitDB(DBConfig);\n\n\n\ninterface IState {\n  month: string;\n  startbudget: number;\n  monthObj: object[];\n  monthlist?: object[];\n  monthlistDB: object[];\n  actualMonth?: string;\n  actualBudget: number;\n  allMonthObj: object[];\n  actualMonthObj: actualMonthObj;\n  inputs: object[];\n  inputsSetNew: object[];\n  monthID: number;\n  firstLoad: boolean;\n  normalMode: boolean;\n  starterror: boolean;\n  summeInputs: number;\n}\ninterface IProps {\n\n}\n\ninterface actualMonthObj {\n  month: string;\n  startbudget: number;\n  actualbudget: number;\n  id: number;\n}\n\n/**\n * \n * Documentation Projekt Softwareengineering\n * Es wurde ein Ausgabenrechner implementiert, \n * der eine Übersicht über das aktuelle Budget und alle Ausgaben/Einnahmen eines Monats gibt\n * @author: Benedikt Keil\n * @version: V2.1\n * \n */\nclass App extends React.Component<IProps, IState>{\n  state: IState = {\n    actualBudget: 0,\n    startbudget: 0,\n    month: \"test\",\n    monthObj: [{ \"month\": \"Test\", \"startbudget\": 0 }],\n    monthlistDB: [],\n    allMonthObj: [{ \"month\": \"no Month\", \"startbudget\": 0, \"id\": 1 }],\n    actualMonthObj: { month: \"no Month\", startbudget: 0, actualbudget: 0, id: 0 },\n    inputs: [],\n    inputsSetNew: [],\n    monthID: 1,\n    firstLoad: true,\n    normalMode: false,\n    starterror: false,\n    summeInputs: 0,\n  }\n\n\n  /**\n * Methode um ausgewählten Monat zu speichern\n */\n  public getMonth = (event: CustomEvent<DatetimeChangeEventDetail>) => {\n    let month = event.detail.value;\n    let monthsubstr = month!.substr(0, 7);\n\n\n    this.setState({\n      month: monthsubstr!,\n\n    });\n\n    console.log(this.state.month);\n    this.verifiyMonth();\n  }\n  /**\n  * Methode um eingegebenes Startbudget zu speichern\n  */\n  public getStartbudget = (event: CustomEvent<InputChangeEventDetail>) => {\n    this.setState({\n      startbudget: parseInt(event.detail.value!),\n\n    })\n    console.log(this.state.startbudget);\n\n\n  }\n  /**\n   * Methode um Eingaben über Monat und Startbudget in Indexed DB zu speichern \n   * und um alle gespeicherten Monate in Indexed DB als State (monthlistDB) zu speichern.\n   * Aufruf der Methode getActualMonth um aktuellen Monat in App zu setzen.\n   */\n  public pushMonthObj = () => {\n\n    this.state.monthObj.push({ \"month\": this.state.month, \"startbudget\": this.state.startbudget })\n    this.forceUpdate();\n    const { add, getAll } = useIndexedDB('monthlist');\n\n\n    add({ month: this.state.month, startbudget: this.state.startbudget, actualbudget: this.state.startbudget })\n\n\n\n    getAll().then((monthlistDB) => {\n      this.setState({\n        monthlistDB: monthlistDB\n      })\n    })\n    this.getActualMonth();\n  }\n\n  /**\n   * Methode um alle gespeicherten Monate in Indexed DB abzurufen\n   * und im State monthlistDB zu speichern\n   */\n  public getMonthObj = () => {\n    const { getAll } = useIndexedDB('monthlist');\n    getAll().then((monthlistDB) => {\n      this.setState({\n        monthlistDB: monthlistDB\n      })\n    })\n  }\n\n  /**\n   * Methode um Startseite beim aller ersten Start der App zu starten.\n   * Die Seite wird benötigt um einen ersten Datenbank Eintrag zu generieren.\n   */\n  public firstLoadApp = () => {\n    const { getAll } = useIndexedDB('monthlist');\n    getAll().then((month) => {\n\n      if (month.length === 0) {\n        this.setState({\n          firstLoad: true,\n        })\n      }\n      else {\n        this.setState({\n          firstLoad: false,\n          normalMode: true,\n        })\n        this.getActualMonth();\n      }\n    })\n    console.log(this.state.month + this.state.startbudget);\n  }\n\n\n  /**\n   * Methode erstellt nach betätigen des \"Start Ausgabenrechner\" Buttons den ersten Datenbankeintrag in dem objectStore \"monthlist\"\n   */\n  public startRechner = () => {\n\n    const { add, getAll } = useIndexedDB('monthlist');\n    if (this.state.month !== \"test\" && this.state.startbudget !== 0) {\n      add({ month: this.state.month, startbudget: this.state.startbudget, actualbudget: this.state.startbudget });\n      getAll().then((month) => {\n\n        if (month.length === 0) {\n          add({ month: this.state.month, startbudget: this.state.startbudget, actualbudget: this.state.startbudget });\n        }\n        getAll().then((month) => {\n\n\n          this.setState({\n            allMonthObj: month,\n            firstLoad: false,\n            normalMode: true,\n          })\n\n          this.getActualMonth();\n        })\n      })\n    }\n    else {\n      this.setState({\n        starterror: true,\n      })\n    }\n  }\n\n\n  /**\n   * Methode um aktuellen Monat (letzter hinzugefügter Monat) abzurufen\n   * und speichern der Werte dieses Monats als State (month, startbudget, actualbudget).\n   * Aufruf der Methode getActualBudget um aktuelles Budget abzurufen, wenn sich der Monat ändert.\n   */\n  public getActualMonth = () => {\n\n    const { getAll, getByID } = useIndexedDB('monthlist');\n    getAll().then((month) => {\n\n\n      this.setState({\n        allMonthObj: month\n      })\n    }).then(() => {\n      getByID(Math.max.apply(Math, this.state.allMonthObj.map((o: any) => { this.setState({ monthID: o.id }); return o.id }))).then((actualMonth) => {\n        console.log(actualMonth);\n\n        this.setState({\n          actualMonthObj: actualMonth,\n        })\n        this.setState({\n          month: this.state.actualMonthObj.month,\n          startbudget: this.state.actualMonthObj.startbudget,\n          actualBudget: this.state.actualMonthObj.actualbudget,\n        })\n        this.forceUpdate();\n        console.log(this.state.actualBudget)\n        this.getActualBudget();\n\n\n      })\n    })\n\n  }\n\n\n\n  /**\n   * Methode um aktuelles Budget aller Inputs des aktuellen Monats zu berechnen.\n   * Speichert den Wert in State (aktualBudget) \n   */\n  public getActualBudget = () => {\n\n    const { getAll, update } = useIndexedDB('inputs');\n\n    getAll().then((inputs) => {\n\n      this.setState({\n        inputs: inputs\n      })\n    }).then(() => {\n\n      if (this.state.inputs.length !== 0) {\n\n        this.state.inputs.map((index: any) => {\n          if (index.month === this.state.month && index.added === true) {\n            let actualBudget = index.actualbudget;\n            this.setState({\n              actualBudget: actualBudget,\n            })\n          }\n          if (index.month === this.state.month && index.added === false) {\n              if(this.state.actualBudget === this.state.startbudget){\n                console.log(\"start === actual\");\n                let startBudget = this.state.startbudget;\n                if (index.ausgabe) {\n\n                  startBudget += index.betrag;\n                  this.setState({\n                    actualBudget: startBudget,\n                  })\n                  update({ inputs_id: index.inputs_id, betrag: index.betrag, ausgabe: index.ausgabe, titel: index.titel, datum: index.datum, month: index.month, added: true, actualbudget: startBudget });\n    \n                }\n                else {\n                  startBudget -= index.betrag;\n                  this.setState({\n                    actualBudget: startBudget,\n                  });\n                  console.log(\"- rechnen\")\n                  console.log(this.state.actualBudget)\n                  update({ inputs_id: index.inputs_id, betrag: index.betrag, ausgabe: index.ausgabe, titel: index.titel, datum: index.datum, month: index.month, added: true, actualbudget: startBudget });\n    \n                }\n              }\n              else{\n                console.log(\"else\");\n            let actualBudget = index.actualbudget;\n            this.setState({\n              actualBudget: actualBudget,\n            })\n            if (index.ausgabe) {\n\n              actualBudget += index.betrag;\n              this.setState({\n                actualBudget: actualBudget,\n              })\n              update({ inputs_id: index.inputs_id, betrag: index.betrag, ausgabe: index.ausgabe, titel: index.titel, datum: index.datum, month: index.month, added: true, actualbudget: actualBudget });\n\n            }\n            else {\n              actualBudget -= index.betrag;\n              this.setState({\n                actualBudget: actualBudget,\n              });\n              update({ inputs_id: index.inputs_id, betrag: index.betrag, ausgabe: index.ausgabe, titel: index.titel, datum: index.datum, month: index.month, added: true, actualbudget: actualBudget });\n\n            }\n          }\n        }\n          return {\n          }\n        })\n      }\n    })\n  }\n\n  public getActualBudget2 = () => {\n    const { getAll, update } = useIndexedDB('inputs');\n    getAll().then((inputs) => {\n\n      this.setState({\n        inputs: inputs\n      })\n    }).then(()=>{\n      if (this.state.inputs.length !== 0) {\n        this.state.inputs.map((index: any) => {\n        if (index.month === this.state.month){\n          let summeInputs = this.state.summeInputs;\n          if (index.ausgabe) {\n          summeInputs -= index.betrag;\n\n          this.setState({\n            summeInputs: summeInputs,\n          })\n          \n          \n          } else{\n            summeInputs += index.betrag;\n\n            this.setState({\n              summeInputs: summeInputs,\n            })\n          }\n\n\n        }\n        \n        })\n      }\n    }).then(()=>{\n      let actualBudget = this.state.startbudget - this.state.summeInputs;\n      this.setState({\n        actualBudget: actualBudget,\n      })\n    })\n  }\n\n  public setAddedNew = () => {\n    const { getAll, update } = useIndexedDB('inputs');\n\n    getAll().then((inputs) => {\n      this.setState({\n        inputsSetNew: inputs,\n        \n      })\n\n    }).then(() => {\n      if (this.state.inputsSetNew.length !== 0) {\n        \n        console.log(\"actualReset: \"+ this.state.actualBudget)\n        this.state.inputs.map((index: any) => {\n          if (index.month === this.state.month && index.added === true) {\n            update({ inputs_id: index.inputs_id, betrag: index.betrag, ausgabe: index.ausgabe, titel: index.titel, datum: index.datum, month: index.month, added: false, actualbudget: index.actualbudget })\n          }\n\n        })\n      }\n    }).then(()=>{\n      this.setState({\n        actualBudget: this.state.startbudget\n      })\n      this.getActualBudget2();\n    })\n\n\n  }\n\n\n\n\n\n  public verifiyMonth = () => {\n    const { getAll } = useIndexedDB('monthlist');\n    getAll().then((month) => {\n      month.map((index: any) => {\n        console.log(\"Test Month Verify: \" + this.state.month)\n        if (index.month === this.state.month) {\n          this.setState({\n            starterror: true,\n            month: \"test\",\n            normalMode: false,\n          })\n          console.log(this.state.starterror);\n        }\n      })\n    })\n\n  }\n\n  /**\n   * Diese Methode rendert die TabBar die immer am unteren Bildschirmende gezeigt wird. \n   * Außerdem wird ein Router erstellt der die Navigation zwischen den einzelnen Seiten bereit stellt.\n   * Hier werden auch die Methoden der App Klasse an die anderen Komponenten übergeben, \n   * die dann in den einzelne Komponenten als Props zur Verfügung stehen.\n   */\n  public render() {\n\n    return (\n      <IonApp onLoad={() => { this.firstLoadApp(); this.getMonthObj(); }}>\n\n        {this.state.firstLoad && (<Start startRechner={this.startRechner} getMonth={this.getMonth} getStartbudget={this.getStartbudget} month={this.state.month} startbudget={this.state.startbudget}></Start>)}\n        {this.state.starterror && (<StartError></StartError>)}\n        <IonReactRouter>\n\n          {this.state.normalMode && (<IonTabs>\n            <IonRouterOutlet>\n              <Route path=\"/newMonth\" >\n                <NewMonth getMonth={this.getMonth} getStartbudget={this.getStartbudget} pushMonthObj={this.pushMonthObj} month={this.state.month} startbudget={this.state.startbudget}></NewMonth>\n              </Route>\n              <Route path=\"/monthReview\" component={MonthReview} exact={true}> <MonthReview monthObj={this.state.monthlistDB}></MonthReview></Route>\n              <Route path=\"/actualMonth\" component={ActualMonth} exact={true}>\n                <ActualMonth month={this.state.month} budget={this.state.actualBudget} getActualBudget={this.getActualBudget} getActualMonth={this.getActualMonth} setAddedNew={this.setAddedNew}></ActualMonth>\n              </Route>\n              <Route path=\"/newInput\" component={NewInput}>\n                <NewInput month={this.state.month} budget={this.state.actualBudget} getActualBudget={this.getActualBudget} ></NewInput>\n              </Route>\n              <Route path=\"/\" render={() => <Redirect to=\"/start\" />} exact={true} />\n            </IonRouterOutlet>\n\n            <IonTabBar slot=\"bottom\">\n              <IonTabButton tab=\"newInput\" href=\"/newInput\" onClick={this.getActualBudget}>\n                <IonIcon icon={addCircle} />\n                <IonLabel>New Input</IonLabel>\n              </IonTabButton>\n              <IonTabButton tab=\"actualMonth\" href=\"/actualMonth\" onClick={this.getActualBudget}>\n                <IonIcon icon={calendar} />\n                <IonLabel> Actual Month </IonLabel>\n              </IonTabButton>\n              <IonTabButton tab=\"newMonth\" href=\"/newMonth\">\n                <IonIcon icon={addCircleOutline} />\n                <IonLabel>New Month</IonLabel>\n              </IonTabButton>\n              <IonTabButton tab=\"monthReview\" href=\"/monthReview\">\n                <IonIcon icon={calendar} />\n                <IonLabel>Month Review</IonLabel>\n              </IonTabButton>\n\n\n            </IonTabBar>\n          </IonTabs>)}\n\n        </IonReactRouter>\n      </IonApp>\n    )\n  };\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}